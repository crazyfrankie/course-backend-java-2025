---
title: "é›†åˆæ¡†æ¶ä¸å¼‚å¸¸å¤„ç†"
linkTitle: "ç¬¬4è¯¾"
weight: 4
description: >
  Javaé›†åˆæ¡†æ¶ã€æ³›å‹å’Œå¼‚å¸¸å¤„ç†
---
## ç¬¬å››èŠ‚è¯¾:æ³›å‹ã€å¼‚å¸¸å¤„ç†ã€é›†åˆæ¡†æ¶

> ç›¸ä¿¡å¤§å®¶ç»è¿‡å‰é¢å‡ å‘¨çš„å­¦ä¹ ,å¯¹Javaæˆ–å¤šæˆ–å°‘æœ‰äº†ä¸€å®šç¨‹åº¦çš„äº†è§£ã€‚æœ¬èŠ‚è¯¾ä¸»è¦ä»‹ç»Javaçš„ä¸€äº›é«˜çº§ç‰¹æ€§å’Œé›†åˆæ¡†æ¶,ä¸‹é¢æˆ‘ä»¬å°±å¼€å§‹ä»Šå¤©çš„å­¦ä¹  ovo !



### å¼‚å¸¸å¤„ç†

---

##### 1. ä»€ä¹ˆæ˜¯å¼‚å¸¸?

â€‹     Javaä¸­çš„å¼‚å¸¸åˆç§°:**" ä¾‹å¤– "**,å‘ç”Ÿåœ¨ä¸€ä¸ªç¨‹åºæ‰§è¡Œçš„æœŸé—´,å®ƒä¼šä¸­æ–­æ­£åœ¨æ‰§è¡Œç¨‹åºçš„**æ­£å¸¸æŒ‡ä»¤**,æˆ–è€…**æŒ‡ä»¤æµ**( ä¹Ÿå°±æ˜¯ä¸€ä¸²æŒ‡ä»¤ ) , å³æŒ‡ç¨‹åºåœ¨è¿è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿçš„æ„å¤–æƒ…å†µæˆ–é”™è¯¯ã€‚

åœ¨Javaä¸­,ä¸€ä¸ªå¼‚å¸¸çš„äº§ç”Ÿ,ä¸»è¦æœ‰ä»¥ä¸‹ä¸‰ç§æƒ…å†µ:

- Javaå†…éƒ¨é”™è¯¯å‘ç”Ÿå¼‚å¸¸,Javaè™šæ‹Ÿæœºäº§ç”Ÿçš„å¼‚å¸¸
- ç¼–å†™çš„ç¨‹åºä»£ç ä¸­çš„é”™è¯¯æ‰€äº§ç”Ÿçš„çš„å¼‚å¸¸,ä¾‹å¦‚`NullPointException` ç©ºæŒ‡é’ˆå¼‚å¸¸ã€`IndexBoundException` æ•°ç»„è¶Šç•Œå¼‚å¸¸ç­‰ç­‰
- é€šè¿‡`throw`è¯­å¥æ‰‹åŠ¨ç”Ÿæˆçš„å¼‚å¸¸,ä¸€èˆ¬ç”¨æ¥å‘ŠçŸ¥è¯¥æ–¹æ³•çš„è°ƒç”¨è€…ä¸€äº›å¿…è¦ä¿¡æ¯

---

##### 2. å¼‚å¸¸çš„åˆ†ç±»

â€‹    ä¸ºäº†èƒ½å¤ŸåŠæ—¶æœ‰æ•ˆåœ°å¤„ç†ç¨‹åºä¸­çš„è¿è¡Œé”™è¯¯,è¿™ä¸ªæ—¶å€™å°±å¿…é¡»ä½¿ç”¨ **å¼‚å¸¸ç±» ( Exception )**,è¿™å¯ä»¥è®©ç¨‹åºå…·æœ‰æå…¶å¯è§‚çš„**å®¹é”™æ€§å’Œå¥å£®æ€§**ã€‚

>  *Javaå¼‚å¸¸ç±»å±‚æ¬¡ç»“æ„æ¦‚è§ˆå›¾* --- å›¾æºå°æ—coding

![](https://github.com/zxyii/Courseware-Backend-Java-2024/blob/master/Lesson_4/images/Snipaste_2024-10-26_17-08-50.png)

â€‹    åœ¨ Java ä¸­,æ‰€æœ‰çš„å¼‚å¸¸éƒ½æœ‰ä¸€ä¸ª**å…±åŒ**çš„ç¥–å…ˆâ€” â€º `java.lang` åŒ…ä¸­çš„ `Throwable` ç±»ã€‚æŒ‰ç…§é”™è¯¯çš„ä¸¥é‡æ€§,ä» `Throwable` çˆ¶ç±»ä¸­è¡ç”Ÿå‡º`Error`å’Œ`Exception`ä¸¤å¤§æ´¾ç³»

- `Error`( é”™è¯¯ )

  ç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ‰€é‡åˆ°çš„ç¡¬ä»¶æˆ–æ“ä½œç³»ç»Ÿçš„é”™è¯¯ã€‚é”™è¯¯å¯¹ç¨‹åºè€Œè¨€æ˜¯è‡´å‘½çš„,å°†å¯¼è‡´ç¨‹åºæ— æ³•è¿è¡Œã€‚

  å¸¸è§çš„é”™è¯¯ eg :  

  |      å¼‚å¸¸ç±»å‹åç§°      |         å¼‚å¸¸è¯´æ˜          |
  | :--------------------: | :-----------------------: |
  |   `OutOfMemoryErro`    |         å†…å­˜æº¢å‡º          |
  | `Vitural MachineError` | JVMè™šæ‹Ÿæœºè‡ªèº«çš„éæ­£å¸¸è¿è¡Œ |
  |  `NoSuchMethodError`   |    classæ–‡ä»¶æ²¡æœ‰ä¸»æ–¹æ³•    |
  |          ...           |            ...            |

  ç¨‹åºæœ¬èº«æ˜¯ä¸èƒ½å¤„ç†é”™è¯¯çš„,åªèƒ½ä¾é å¤–ç•Œå¹²é¢„ã€‚Erroræ˜¯ç³»ç»Ÿå†…éƒ¨çš„é”™è¯¯,ç”±JVMæŠ›å‡º,äº¤ç»™ç³»ç»Ÿæ¥å¤„ç†ã€‚

  > *JVMç›¸å…³çŸ¥è¯†æš‚ä¸å…·ä½“é˜è¿° æ„Ÿå…´è¶£çš„åŒå­¦å¯å…ˆè‡ªè¡Œäº†è§£*

- `Exception` ( å¼‚å¸¸ )

  ç¨‹åºæ­£å¸¸è¿è¡Œä¸­,å¯ä»¥é¢„æ–™çš„æ„å¤–æƒ…å†µ,ç¨‹åºæœ¬èº«å¯ä»¥è¿›è¡Œå¤„ç†ã€‚åŒæ—¶å¼‚å¸¸æŒ‰ç…§æ€§è´¨,åˆåˆ†ä¸º éè¿è¡Œæ—¶å¼‚å¸¸ ( å¯æ£€æŸ¥ ) å’Œè¿è¡Œæ—¶å¼‚å¸¸ ( ä¸å¯æ£€æŸ¥ )ã€‚

  * éè¿è¡Œæ—¶å¼‚å¸¸

    è¿™ç±»å¼‚å¸¸åœ¨ç¼–è¯‘æ—¶ä¼šè¢«æ£€æŸ¥,å¦‚æœæ²¡æœ‰è¢« **`catch`**æˆ–è€…**`throws` å…³é”®å­—**å¤„ç†çš„è¯,å°±æ²¡åŠæ³•é€šè¿‡ç¼–è¯‘ã€‚ä»–ä»¬é€šå¸¸æ˜¯å¤–éƒ¨é”™è¯¯ 

    eg : 

    |       å¼‚å¸¸ç±»å‹åç§°       |         å¼‚å¸¸è¯´æ˜          |
    | :----------------------: | :-----------------------: |
    | `FileNotFoundException`  | æ–‡ä»¶ä¸å­˜åœ¨ ( IOç±»å‹å¼‚å¸¸ ) |
    | `ClassNotFoundException` |         ç±»æœªæ‰¾åˆ°          |
    |      `SQLException`      |      æ•°æ®åº“æ“ä½œå¼‚å¸¸       |
    |           ...            |            ...            |

  * è¿è¡Œæ—¶å¼‚å¸¸

    åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ ,å³ä½¿ä¸å¤„ç†è¯¥ç±»å¼‚å¸¸ä¹Ÿå¯ä»¥æ­£å¸¸é€šè¿‡ç¼–è¯‘ã€‚è¿è¡Œæ—¶å¼‚å¸¸ç”±ç¨‹åºé”™è¯¯å¯¼è‡´,åŒ…æ‹¬`RuntimeException` åŠå…¶å­ç±»å’Œ `Error` é”™è¯¯ 

    å¸¸è§ eg : 

    > *å¯ä»¥å¤šçœ¼ç†Ÿä¸€ä¸‹ æ—¥å¸¸å¼€å‘ä¸­å¯ä»¥æé«˜æ•ˆç‡*

    |           å¼‚å¸¸ç±»å‹åç§°           |                   å¼‚å¸¸è¯´æ˜                    |
    | :------------------------------: | :-------------------------------------------: |
    |      `NullPointerException`      |                  ç©ºæŒ‡é’ˆé”™è¯¯                   |
    |    `IllegalArgumentException`    |        å‚æ•°é”™è¯¯ ( å¦‚æ–¹æ³•å…¥å‚ç±»å‹é”™è¯¯ )        |
    |     `NumberFormatException`      | å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—æ ¼å¼é”™è¯¯ ( ä¸Šä¸€ä¸ªé”™è¯¯çš„å­ç±» ) |
    | `ArrayIndexOutOfBoundsException` |                 æ•°ç»„è¶Šç•Œé”™è¯¯                  |
    |       `ClassCastException`       |                 ç±»å‹è½¬æ¢é”™è¯¯                  |
    |      `ArithmeticException`       |                   ç®—æœ¯é”™è¯¯                    |
    |       `SecurityException`        |            å®‰å…¨é”™è¯¯ ( å¦‚æƒé™ä¸å¤Ÿ )            |
    |               ...                |                      ...                      |

  ä¸‹é¢ç®€å•å±•ç¤ºå‡ ä¸ªå¼‚å¸¸çš„ğŸŒ°

```java
package example.exception;

import java.util.ArrayList;
import java.util.List;

public class CommonException {
    public static void main(String[] args) {

        //NullPointerException--ç©ºæŒ‡é’ˆå¼‚å¸¸
        Integer a = null;
        System.out.println(a.toString());

        //ArithmeticException--ç®—æ•°å¼‚å¸¸
        int b = 10;
        int c = 0;
        int result = b / c;
        System.out.println("Result: " + result);

        //IndexOutOfBoundsException--ç´¢å¼•è¶Šç•Œå¼‚å¸¸
        List<Integer> list = new ArrayList<>();
        System.out.println(list.get(0));
    }
}
```



##### 3. è‡ªå®šä¹‰å¼‚å¸¸

â€‹    å¯èƒ½æœ‰çš„äººä¼šç–‘æƒ‘ä¸ºä»€ä¹ˆè¦è‡ªå®šä¹‰å¼‚å¸¸,ä¸ä¼šå¾ˆå¤šä½™å—?å®é™…ä¸Š,è‡ªå®šä¹‰å¼‚å¸¸çš„ç›®çš„æ˜¯ **ç»†åŒ–å¼‚å¸¸ä»¥ä¾¿æˆ‘ä»¬æ›´ç²¾ç¡®åœ°å¤„ç†å¼‚å¸¸** ,é€šä¿—æ¥è®²å°±æ˜¯å½“é‡åˆ°ä»£ç é‡ŒæŠ›å‡ºäº†`RuntimeException` è¿™ä¸ªå¼‚å¸¸,é‚£æˆ‘ä»¬æ€ä¹ˆå»ç¡®å®šåˆ°åº•æ˜¯å‡ºäº†å“ªç§ç±»å‹çš„é—®é¢˜æˆ–æ˜¯å¤šç§é—®é¢˜çš„ç»“åˆå‘¢ã€‚

ä¸€ä¸ªå°ğŸŒ°

```java
public class MeiMiException extends RuntimeException{
    private Double money;

    public MeiMiException(Double money) {
        super("ä½™é¢ä¸è¶³,è¿˜å·®:" + money);
        this.money = money;
    }

    public static class AccountAdmin {
        private Double balance;

        public AccountAdmin(Double balance) {
            this.balance = balance;
        }

        //å­˜é’±çš„æ–¹æ³•
        public void deposit(double money) {
            this.balance += money;
        }

        //å–é’±çš„æ–¹æ³•
        public void withdraw(double money) throws MeiMiException {
            if (balance >= money) {
                balance -= money;
            } else {
                double needMoney = money - balance;
                throw new MeiMiException(needMoney);
            }
        }
    }

    public static void main(String[] args) {
        AccountAdmin accountAdmin = new AccountAdmin(100.0);
        accountAdmin.deposit(200);//å…ˆå­˜äºŒä¼¯å—
        try {
            //å†å–å››ä¼¯å—
            accountAdmin.withdraw(400);
        } catch (MeiMiException e) {
            throw new RuntimeException(e);
        }
    }
}
```



##### 4. å¼‚å¸¸å¤„ç†

äº†è§£åˆ°è¿™é‡Œ,ä½ å¯èƒ½ä¼šæœ‰ è®²äº†è¿™ä¹ˆå¤šæˆ‘è¿˜æ˜¯ä¸çŸ¥é“åˆ°åº•è¯¥æ€ä¹ˆå¤„ç†å¼‚å¸¸ ~~æ„Ÿè§‰åœ¨å¬åºŸè¯(bushi~~ çš„æƒ³æ³•

ä¸‹é¢ä»‹ç» **Javaå¤„ç†å¼‚å¸¸çš„å¸¸ç”¨æ–¹æ³•**

- **try-catch-finally**

  ä½¿ç”¨ `try` å’Œ `catch ` å…³é”®å­—å¯ä»¥æ•è·å¼‚å¸¸ã€‚try/catch ä»£ç å—æ”¾åœ¨å¼‚å¸¸å¯èƒ½å‘ç”Ÿçš„åœ°æ–¹ã€‚try/catchä»£ç å—ä¸­çš„ä»£ç ç§°ä¸ºä¿æŠ¤ä»£ç 

```java
try{
   // ç¨‹åºä»£ç 
}catch(ExceptionName e1){
   // ç¨‹åºä»£ç 
}catch(ExceptionName e2){
   // ç¨‹åºä»£ç 
}catch(ExceptionName e3){
   // ç¨‹åºä»£ç 
}finally{
   // ç¨‹åºä»£ç 
}
```

  

  Catch è¯­å¥åŒ…å«è¦æ•è·å¼‚å¸¸ç±»å‹çš„å£°æ˜ã€‚å½“ä¿æŠ¤ä»£ç å—ä¸­å‘ç”Ÿä¸€ä¸ªå¼‚å¸¸æ—¶,try åé¢çš„ catch å—å°±ä¼šè¢«æ£€æŸ¥ã€‚

  å¦‚æœå‘ç”Ÿçš„å¼‚å¸¸åŒ…å«åœ¨ catch å—ä¸­,å¼‚å¸¸ä¼šè¢«ä¼ é€’åˆ°è¯¥ catch å—,è¿™å’Œä¼ é€’ä¸€ä¸ªå‚æ•°åˆ°æ–¹æ³•æ˜¯ä¸€æ ·ã€‚

  åŒæ—¶æˆ‘ä»¬è¿˜èƒ½è¿›è¡Œæ— é™å¥—å¨ƒ,æ ¹æ®ä¸åŒçš„å¼‚å¸¸å¤„ç†,æˆ‘ä»¬å¯ä»¥ä¸€ç›´catchã€‚

  Finallyå…³é”®å­—finally å…³é”®å­—ç”¨æ¥åˆ›å»ºåœ¨ try ä»£ç å—åé¢æ‰§è¡Œçš„ä»£ç å—ã€‚æ— è®ºæ˜¯å¦å‘ç”Ÿå¼‚å¸¸,finally ä»£ç å—ä¸­çš„ä»£ç æ€»ä¼šè¢«æ‰§è¡Œã€‚åœ¨ finally ä»£ç å—ä¸­,å¯ä»¥è¿è¡Œæ¸…ç†ç±»å‹ç­‰æ”¶å°¾å–„åæ€§è´¨çš„è¯­å¥ã€‚

- **throws+å¼‚å¸¸ç±»å‹**

  åœ¨Javaä¸­, **throw** å’Œ **throws** å…³é”®å­—æ˜¯ç”¨äºå¤„ç†å¼‚å¸¸çš„ã€‚

  **throw** å…³é”®å­—ç”¨äºåœ¨ä»£ç ä¸­æŠ›å‡ºå¼‚å¸¸,è€Œ **throws** å…³é”®å­—ç”¨äºåœ¨æ–¹æ³•å£°æ˜ä¸­æŒ‡å®šå¯èƒ½ä¼šæŠ›å‡ºçš„å¼‚å¸¸ç±»å‹ã€‚

  * **throwå…³é”®å­—**

    **`throw` å…³é”®å­—** ç”¨äºåœ¨å½“å‰æ–¹æ³•ä¸­æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚é€šå¸¸æƒ…å†µä¸‹,å½“ä»£ç æ‰§è¡Œåˆ°æŸä¸ªæ¡ä»¶ä¸‹æ— æ³•ç»§ç»­æ­£å¸¸æ‰§è¡Œæ—¶,å¯ä»¥ä½¿ç”¨ **`throw` å…³é”®å­—** æŠ›å‡ºå¼‚å¸¸,ä»¥å‘ŠçŸ¥è°ƒç”¨è€…å½“å‰ä»£ç çš„æ‰§è¡ŒçŠ¶æ€ã€‚å®ƒå¯ä»¥åœ¨æˆ‘ä»¬è‡ªå·±æŒ‡å®šçš„åœ°æ–¹æŠ¥å¼‚å¸¸è·³å‡ºç¨‹åº,è€Œä¸ä¸€å®šåœ¨é”™è¯¯çš„åœ°æ–¹,è¿™æ ·å¯ä»¥è‡ªå·±è¿›è¡Œç›‘æ§é”™è¯¯,ä¸è®©JVMå¤„ç†é”™è¯¯ã€‚

  * **throwså…³é”®å­—**

    **`throws` å…³é”®å­—** ç”¨äºåœ¨æ–¹æ³•å£°æ˜ä¸­æŒ‡å®šè¯¥æ–¹æ³•å¯èƒ½æŠ›å‡ºçš„å¼‚å¸¸ã€‚å½“æ–¹æ³•å†…éƒ¨æŠ›å‡ºæŒ‡å®šç±»å‹çš„å¼‚å¸¸æ—¶,è¯¥å¼‚å¸¸ä¼šè¢«ä¼ é€’ç»™è°ƒç”¨è¯¥æ–¹æ³•çš„ä»£ç ,å¹¶åœ¨è¯¥ä»£ç ä¸­å¤„ç†å¼‚å¸¸ã€‚throwsç”¨æ¥å£°æ˜æ–¹æ³•åœ¨è¿è¡Œè¿‡ç¨‹ä¸­å¯èƒ½å‡ºç°çš„å¼‚å¸¸,ä»¥ä¾¿è°ƒç”¨è€…æ ¹æ®ä¸åŒçš„å¼‚å¸¸ç±»å‹é¢„å…ˆå®šä¹‰ä¸åŒçš„å¤„ç†æ–¹å¼ã€‚

```java
  package example.exception;
  
  public class ExceptionHandlingDemo {
  
      //åœ¨æ–¹æ³•ä¸­ç”¨throwså…³é”®å­—å£°æ˜å¯èƒ½æŠ›å‡ºçš„å¼‚å¸¸
      public static String print(String content) throws IllegalArgumentException{
          if(content == null) {
              //ç”¨throwå…³é”®å­—æŠ›å‡ºå®é™…å¼‚å¸¸
              throw new IllegalArgumentException("å†…å®¹ä¸å¯ä¸ºç©º");
          }
          return content;
      }
  
      public static void main(String[] args) {
          try {
              String result = print(null);
              System.out.println("ç»“æœ:" + result);
          }
          //æ•è·ç‰¹å®šçš„å¼‚å¸¸
          catch (IllegalArgumentException e){
              //å¤„ç†å¼‚å¸¸
              System.out.println("æ•è·å¼‚å¸¸:" + e);
          }
          //æ•è·æ‰€æœ‰å…¶ä»–å¼‚å¸¸
          catch (Exception e){
              //å¤„ç†å…¶ä½™å¼‚å¸¸
              System.out.println("æ•è·å…¶ä»–å¼‚å¸¸" + e);
          }finally {
              //æ— è®ºæ˜¯å¦å‘ç”Ÿå¼‚å¸¸éƒ½ä¼šæ‰§è¡Œ
              System.out.println("æ‰§è¡Œfinallyä¸­çš„ä»£ç ");
          }
  
      }
  }
  
```

### æ³›å‹ T\R

---

##### 1. ä»€ä¹ˆæ˜¯æ³›å‹?

â€‹    Java **æ³›å‹ ( Generics ) ** æ˜¯JDK5ä¸­å¼•å…¥çš„ä¸€ä¸ªæ–°ç‰¹æ€§,æä¾›ç¼–è¯‘æ—¶ç±»å‹å®‰å…¨æ£€æŸ¥æœºåˆ¶,å…è®¸ç¨‹åºå‘˜åœ¨ç¼–è¯‘æ—¶æ£€æµ‹åˆ°éæ³•çš„ç±»å‹,å¹¶ä¸”åœ¨ç¼–è¯‘åèƒ½å¤Ÿä¿ç•™ç±»å‹ä¿¡æ¯,ä»è€Œé¿å…åœ¨è¿è¡Œæ—¶å‡ºç°`ClassCastException` å¼‚å¸¸ã€‚

â€‹    æˆ–è®¸è¿˜ä¸æ˜¯å¾ˆæ¸…æ¥š ?ä¸‹é¢ç»“åˆä¸€ä¸ªä¾‹å­è¯´æ˜:

> *æ³›å‹åœ¨å¾ˆå¤§çš„ç¨‹åº¦ä¸Šæ–¹ä¾¿äº†é›†åˆçš„ä½¿ç”¨ åé¢ä¼šè¯¦ç»†ä»‹ç»é›†åˆçš„ç›¸å…³çŸ¥è¯† æ­¤å¤„å¯å…ˆç®€å•ç†è§£*

```java
package example.generics;

import java.util.ArrayList;
import java.util.List;

public class GenericsTest {
    public static void main(String[] args) {

        List list = new ArrayList();
        list.add("message");
        list.add(123);
        for (int i = 0; i < list.size(); i++) {
            String str = (String) list.get(i);
            System.out.println(str);
        }
    }
}
```

æ‰§è¡Œç»“æœå¦‚ä¸‹: 

![](/images/lesson04/image-20241026193333750.png)

   åœ¨ä¸Šè¿°æœªä½¿ç”¨æ³›å‹çš„ä¾‹å­ä¸­,åŸç”Ÿ `List` è¿”å›ç±»å‹æ˜¯ `Object` ,è·å–çš„ `object` ç±»å‹ä¸èƒ½ä½¿ç”¨å­ç±»çš„ç‰¹æœ‰è¡Œä¸º,éœ€è¦æ‰‹åŠ¨è½¬æ¢ç±»å‹æ‰èƒ½ä½¿ç”¨,è€Œè½¬æ¢çš„æ—¶å€™å®¹æ˜“å‡ºç°`ClassCastException` å¼‚å¸¸,æˆ‘ä»¬åœ¨è¿è¡Œåˆ°æœ‰é—®é¢˜çš„ä»£ç å‰æ˜¯ä¸çŸ¥é“ä¼šå‡ºç°æŠ¥é”™çš„ã€‚

   å› æ­¤,æˆ‘ä»¬å¯ä»¥é€šè¿‡æ³›å‹çº¦æŸå‚æ•°ç±»å‹,ä»è€Œçœå»å¼ºè½¬æ­¥éª¤,è¿™æ ·ä¸€æ—¦ä¼ å…¥ä¸åŒäºæŒ‡å®šç±»å‹çš„å‚æ•°æ—¶å°±ä¼šæŠ¥é”™,å¸®åŠ©æˆ‘ä»¬åœ¨ç¼–è¯‘é˜¶æ®µå°±æ‰¾å‡ºé—®é¢˜ã€‚

##### 2. æ³›å‹çš„ç”¨æ³•

â€‹    æ³›å‹çš„ä¸‰ç§ä½¿ç”¨æ–¹å¼:æ³›å‹ç±»,æ³›å‹æ–¹æ³•,æ³›å‹æ¥å£

* **æ³›å‹ç±»**

  * æ³›å‹ç±»æ¦‚è¿°:æŠŠæ³›å‹å®šä¹‰åœ¨ç±»ä¸Š

  * å®šä¹‰æ ¼å¼:

```java
public class ç±»å <æ³›å‹ç±»å‹1,...> { }
```

* **æ³›å‹æ–¹æ³•**

  * æ³›å‹æ–¹æ³•æ¦‚è¿°:æŠŠæ³›å‹å®šä¹‰åœ¨æ–¹æ³•ä¸Š

  * å®šä¹‰æ ¼å¼:

```java
    public <æ³›å‹ç±»å‹> è¿”å›ç±»å‹ æ–¹æ³•å(æ³›å‹ç±»å‹ å˜é‡å) { }
```

    **æ³¨æ„**:æ–¹æ³•å£°æ˜ä¸­å®šä¹‰çš„å½¢å‚åªèƒ½åœ¨è¯¥æ–¹æ³•é‡Œä½¿ç”¨,è€Œæ¥å£ã€ç±»å£°æ˜ä¸­å®šä¹‰çš„ç±»å‹å½¢å‚åˆ™å¯ä»¥åœ¨æ•´ä¸ªæ¥å£ã€ç±»ä¸­ä½¿ç”¨ã€‚å½“è°ƒç”¨fun()æ–¹æ³•æ—¶,æ ¹æ®ä¼ å…¥çš„å®é™…å¯¹è±¡,ç¼–è¯‘å™¨å°±ä¼šåˆ¤æ–­å‡ºç±»å‹å½¢å‚Tæ‰€ä»£è¡¨çš„å®é™…ç±»å‹ã€‚

```java
    public class GenericsMethodExample {
        public <T> T fun(T t){   // å¯ä»¥æ¥æ”¶ä»»æ„ç±»å‹çš„æ•°æ®
            return t ;     // ç›´æ¥æŠŠå‚æ•°è¿”å›
        }
    }
    public class GenericsMethodTest {
        public static void main(String args[]){
            GenericsMethodExample d = new GenericsMethodExample() ; // å®ä¾‹åŒ–Demoå¯¹è±¡
            String str = d.fun("æ±¤å§†") ; // ä¼ é€’å­—ç¬¦ä¸²
            int i = d.fun(30) ;  // ä¼ é€’æ•°å­—,è‡ªåŠ¨è£…ç®±
            System.out.println(str) ; // è¾“å‡ºå†…å®¹
            System.out.println(i) ;  // è¾“å‡ºå†…å®¹
        }
    }
```

* **æ³›å‹æ¥å£**

  * æ³›å‹æ¥å£æ¦‚è¿°:æŠŠæ³›å‹å®šä¹‰åœ¨æ¥å£

  * å®šä¹‰æ ¼å¼:

```java
    ä¿®é¥°ç¬¦ interface æ¥å£å<æ³›å‹ç±»å‹> {}
```

  * å®ä¾‹:

```java
    public interface GenericsInterfaceExample<T> {
        void show(T t);
    }
    ----
    public class GenericsInterfaceImpl<E> implements GenericsInterfaceExample<E> {
    
        //GenericsInterfaceImplç±»å®ç°æ³›å‹æ¥å£ è¿›ä¸€æ­¥å»¶ç»­æ³›å‹ åˆ›å»ºè¯¥å®ç°ç±»å¯¹è±¡æ—¶å†ç¡®å®šç±»å‹
        @Override
        public void show(E t) {
            System.out.println(t);
        }
    
    }
    ----
    public class GenericsInterfaceTest {
        public static void main(String[] args) {
            //å®ä¾‹åŒ–GenericsInterfaceImplç±»å¯¹è±¡ å¹¶å£°æ˜å‚æ•°ç±»å‹ä¸ºString
            GenericsInterfaceExample<String> inter = new GenericsInterfaceImpl<String>();
            inter.show("hello,world!");
        }
    }
    
    
```

*æ³¨æ„*: 

* **æ³›å‹ç±»å‹å¿…é¡»æ˜¯å¼•ç”¨ç±»å‹(éåŸºæœ¬æ•°æ®ç±»å‹)**,è‹¥éœ€è¦å¡«å…¥åŸºæœ¬æ•°æ®ç±»å‹,åˆ™åº”å¡«å†™å¯¹åº”çš„åŒ…è£…ç±»

* **ä¸èƒ½åœ¨ç±»ä¸­å®šä¹‰æ³›å‹å‚æ•°åŒ–çš„é™æ€å±æ€§**,ä¼šäº§ç”Ÿç¼–è¯‘æ—¶é”™è¯¯:`Cannot make a static reference to the non-static type T`

  eg:

```java
  public class GenericsExample<T>
  {
     private static T member; //ç¼–è¯‘ä¸é€šè¿‡
  }
```

* **ä¸èƒ½åˆ›å»ºç±»å‹å‚æ•°çš„å®ä¾‹ã€‚** ä»»ä½•åˆ›å»ºTå®ä¾‹çš„å°è¯•éƒ½å°†å¤±è´¥ æŠ›å‡ºç¼–è¯‘é”™è¯¯:`Cannot instantiate the type T` 

  eg:

```java
  public class GenericsExample<T>
  {
     public GenericsExample(){
        new T();
     }
  }
```

* **ä¸èƒ½åˆ›å»ºæ³›å‹çš„å¼‚å¸¸ç±»**

```java
  public class GenericException<T> extends Exception {}
```

##### 3. æ³›å‹æ„é€ å™¨

- æ„é€ å™¨ä¹Ÿæ˜¯ä¸€ç§æ–¹æ³•,æ‰€ä»¥ä¹Ÿå°±äº§ç”Ÿäº†æ‰€è°“çš„æ³›å‹æ„é€ å™¨ã€‚
- å’Œä½¿ç”¨æ™®é€šæ–¹æ³•ä¸€æ ·æ²¡æœ‰åŒºåˆ«,ä¸€ç§æ˜¯æ˜¾å¼æŒ‡å®šæ³›å‹å‚æ•°,å¦ä¸€ç§æ˜¯éšå¼æ¨æ–­

eg:

```java
public class Person {
  public <T> Person(T t) {
  System.out.println(t);
  }
}
public static void main(String[] args) {
new Person(22);// éšå¼
new <String> Person("hello");//æ˜¾å¼
}
```

- ç‰¹æ®Šè¯´æ˜:

  - å¦‚æœæ„é€ å™¨æ˜¯æ³›å‹æ„é€ å™¨,åŒæ—¶è¯¥ç±»ä¹Ÿæ˜¯ä¸€ä¸ªæ³›å‹ç±»çš„æƒ…å†µä¸‹åº”è¯¥å¦‚ä½•ä½¿ç”¨æ³›å‹æ„é€ å™¨:å› ä¸ºæ³›å‹æ„é€ å™¨å¯ä»¥æ˜¾å¼æŒ‡å®šè‡ªå·±çš„ç±»å‹å‚æ•°(éœ€è¦ç”¨åˆ°è±å½¢,æ”¾åœ¨æ„é€ å™¨ä¹‹å‰),è€Œæ³›å‹ç±»è‡ªå·±çš„ç±»å‹å®å‚ä¹Ÿéœ€è¦æŒ‡å®š(è±å½¢æ”¾åœ¨æ„é€ å™¨ä¹‹å),è¿™å°±åŒæ—¶å‡ºç°äº†ä¸¤ä¸ªè±å½¢äº†,è¿™å°±ä¼šæœ‰ä¸€äº›å°é—®é¢˜,å…·ä½“ç”¨æ³•åœ¨è¿™é‡Œæ€»ç»“ä¸€ä¸‹ã€‚ ä»¥ä¸‹é¢è¿™ä¸ªä¾‹å­ä¸ºä»£è¡¨

```java
    public class Person<E> {
    
            public <T> Person(E e,T t) {
                System.out.println(e);
                System.out.println(t);
            }
    
        public static void main(String[] args) {
              //åœ¨è¿™ä¸ªä¾‹å­ä¸­,Personè¢«å®ä¾‹åŒ–ä¸ºStringç±»å‹,ä½†æ˜¯æ„é€ å™¨çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯Integerç±»å‹ã€‚
                Person<String> person = new Person("sss",123);
        }
    }
```

  - PS:ç¼–è¯‘å™¨ä¼šæé†’ä½ æ€ä¹ˆåšçš„

##### 4. é€šé…ç¬¦

* **< ? >**æ— ç•Œé€šé…ç¬¦ 

  `?` è¡¨ç¤ºä¸ç¡®å®šçš„ç±»å‹,ä¾‹å¦‚ List<?> å°±ä»£è¡¨ç€å¯ä»¥ä¼ å…¥ä»»æ„æ•°æ®ç±»å‹

* **<? extends T>** ä¸Šç•Œé€šé…ç¬¦

  ä¸Šç•Œé€šé…ç¬¦é¡¾åæ€ä¹‰,<? extends T>è¡¨ç¤ºçš„æ˜¯ç±»å‹çš„ä¸Šç•Œã€åŒ…å«è‡ªèº«ã€‘,å› æ­¤é€šé…çš„å‚æ•°åŒ–ç±»å‹å¯èƒ½æ˜¯Tæˆ–Tçš„å­ç±»ã€‚

```java
    //å®ƒè¡¨ç¤ºé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½æ˜¯Animalç±»å‹æˆ–è€…å…¶å­ç±»
    List<? extends Animal>
```

  è¿™å°±æ˜¯æ‰€è°“çš„ä¸Šé™é€šé…ç¬¦,ä½¿ç”¨å…³é”®å­—extendsæ¥å®ç°,å®ä¾‹åŒ–æ—¶,æŒ‡å®šç±»å‹å®å‚åªèƒ½æ˜¯extendsåç±»å‹çš„å­ç±»æˆ–å…¶æœ¬èº«ã€‚ ä¾‹å¦‚: è¿™æ ·å°±ç¡®å®šé›†åˆä¸­å…ƒç´ çš„ç±»å‹,è™½ç„¶ä¸ç¡®å®šå…·ä½“çš„ç±»å‹,ä½†æœ€èµ·ç çŸ¥é“å…¶çˆ¶ç±»ã€‚ç„¶åè¿›è¡Œå…¶ä»–æ“ä½œã€‚

```java
    //Catæ˜¯å…¶å­ç±»
    List<? extends Animal> list = new ArrayList<Cat>();
```

* **<? super T> **ä¸‹ç•Œé€šé…ç¬¦

  ä¸‹ç•Œé€šé…ç¬¦<? super T>è¡¨ç¤ºçš„æ˜¯å‚æ•°åŒ–ç±»å‹æ˜¯Tçš„è¶…ç±»å‹(åŒ…å«è‡ªèº«),å±‚å±‚è‡³ä¸Š,ç›´è‡³Object

```java
    //å®ƒè¡¨ç¤ºé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½æ˜¯Catç±»å‹æˆ–è€…å…¶çˆ¶ç±»
    List <? super Cat>
```

  è¿™å°±æ˜¯æ‰€è°“çš„ä¸‹ç•Œé€šé…ç¬¦,ä½¿ç”¨å…³é”®å­—superæ¥å®ç°,å®ä¾‹åŒ–æ—¶,æŒ‡å®šç±»å‹å®å‚åªèƒ½æ˜¯extendsåç±»å‹çš„å­ç±»æˆ–å…¶æœ¬èº«

```java
    //Animalæ˜¯å…¶çˆ¶ç±»
        List<? super Cat> list = new ArrayList<Animal>();
```

   æ›´è¯¦ç»†çš„å†…å®¹å¯ä»¥è‡ªè¡Œå­¦ä¹ -->[è¿™é‡Œ](https://juejin.cn/post/7126717331522191368)

### é›†åˆæ¡†æ¶

---

é›†åˆä¸æ•°ç»„ä¸€æ ·,éƒ½æ˜¯å­˜å‚¨æ•°æ®çš„å®¹å™¨ã€‚ä¸ºä»€ä¹ˆè¦å­¦ä¹ é›†åˆ?ä¸‹é¢æ˜¯ä¸¤è€…çš„å¯¹æ¯”

- æ•°ç»„ä½¿ç”¨å‰éœ€è¦å£°æ˜å…¶å®¹çº³çš„å…ƒç´ çš„ç±»å‹,ä½†é›†åˆä¸éœ€è¦ã€‚
- æ•°ç»„æ˜¯é™æ€çš„,å³æ•°ç»„åˆ›å»ºåå…·æœ‰å›ºå®šçš„å¤§å°(é•¿åº¦),ä½†é›†åˆçš„é•¿åº¦æ˜¯å¯å˜çš„,é›†åˆå­˜åœ¨ä¸€ä¸ªæ‰©å®¹æœºåˆ¶ã€‚
- æ•°ç»„åªèƒ½å­˜å‚¨ç›¸åŒç±»å‹çš„å…ƒç´ ,ä½†æ˜¯é›†åˆå¯ä»¥å­˜å‚¨ä¸åŒç±»å‹çš„å…ƒç´ ã€‚
- é›†åˆæ”¯æŒæ³›å‹,å…·æœ‰å†…å»ºç®—æ³•ã€‚



##### 1. é›†åˆæ¡†æ¶ä½“ç³»

![](/images/lesson04/1730806789263.png)

   é›†åˆä½“ç³»åˆ†æˆäº†æ¥å£ã€å…·ä½“ç±»ã€ç®—æ³•:

* æ¥å£:åœ¨ä¸Šä¸¤èŠ‚è¯¾çš„å­¦ä¹ ä¸­,å¤§å®¶å­¦ä¹ äº†Javaé¢å‘å¯¹è±¡çš„æ€æƒ³ã€‚è¿™é‡Œå®šä¹‰çš„æ¥å£å°±ä»£è¡¨ç€é›†åˆçš„æŠ½è±¡æ•°æ®ç±»å‹,ä¾‹å¦‚ä¾‹å¦‚ Collectionã€Listã€Setã€Map ç­‰ã€‚ä¹‹æ‰€ä»¥å®šä¹‰äº†å¤šä¸ªæ¥å£,æ˜¯ä¸ºäº†ä»¥ä¸åŒçš„æ–¹å¼æ“ä½œé›†åˆå¯¹è±¡ ã€‚

* å®ç°ç±»:å®ç°ç±»å°±æ˜¯æ¥å£çš„å…·ä½“å®ç°,æ¯”å¦‚è¯´ArrayListå°±æ˜¯Listæ¥å£çš„å®ç°ç±»,HashSetå°±æ˜¯Setæ¥å£çš„å®ç°ç±»,æˆ‘ä»¬åœ¨ä½¿ç”¨é›†åˆçš„æ—¶å€™,å°±æ˜¯ä½¿ç”¨è¿™äº›å®ç°ç±»è¿›è¡Œæ“ä½œã€‚

* ç®—æ³•:åœ¨Javaä¸­,è¿˜å­˜åœ¨ç€ä¸€äº›æ“ä½œé›†åˆçš„æ–¹æ³•,ä¾‹å¦‚æœç´¢å’Œæ’åº,å­¦ä¹ è¿™äº›æ–¹æ³•ä¹Ÿåˆ©äºæˆ‘ä»¬æ›´å¥½çš„æ“ä½œé›†åˆã€‚ Java é›†åˆæ¡†æ¶æä¾›äº†ä¸€å¥—æ€§èƒ½ä¼˜è‰¯,ä½¿ç”¨æ–¹ä¾¿çš„æ¥å£å’Œç±»,Javaé›†åˆæ¡†æ¶ä½äº`java.util`åŒ…ä¸­, æ‰€ä»¥å½“ä½¿ç”¨é›†åˆæ¡†æ¶çš„æ—¶å€™éœ€è¦è¿›è¡Œå¯¼åŒ…ã€‚

  Javaçš„é›†åˆç±»ä¸»è¦ç”±ä¸¤ä¸ªæ¥å£æ´¾ç”Ÿè€Œå‡ºã€‚å…¶ä¸­,Collectionæ˜¯å•åˆ—é›†åˆçš„æ€»æ¥å£,å¸¸ç”¨çš„æ˜¯Setå’ŒList,Queueç”¨å¾—ä¸å¤šã€‚Mapæ˜¯åŒåˆ—é›†åˆçš„æ€»æ¥å£ã€‚

> *é›†åˆæ¡†æ¶æ¦‚è§ˆå›¾*

![](/images/lesson04//image-20241105194654150.png)

##### 2. List

â€‹     Listç³»åˆ—çš„é›†åˆçš„æ˜¾è‘—ç‰¹ç‚¹: **æœ‰åºã€å¯é‡å¤ã€æœ‰ç´¢å¼•** ,åŒ…å« `ArrayList`ã€`LinkedList`ã€`Vector`ä¸‰ä¸ªå®ç°ç±»

* **`ArrayList`**:åº•å±‚æ•°æ®ç»“æ„æ˜¯æ•°ç»„,æŸ¥è¯¢å¿«,å¢åˆ æ…¢,çº¿ç¨‹ä¸å®‰å…¨,æ•ˆç‡é«˜,å¯ä»¥å­˜å‚¨é‡å¤å…ƒç´  
* **`LinkedList`**:åº•å±‚æ•°æ®ç»“æ„æ˜¯åŒå‘é“¾è¡¨,æŸ¥è¯¢æ…¢,å¢åˆ å¿«,çº¿ç¨‹ä¸å®‰å…¨,æ•ˆç‡é«˜,å¯ä»¥å­˜å‚¨é‡å¤å…ƒç´ 
* **`Vector`**:åº•å±‚æ•°æ®ç»“æ„æ˜¯æ•°ç»„,æŸ¥è¯¢å¿«,å¢åˆ æ…¢,çº¿ç¨‹å®‰å…¨,æ•ˆç‡ä½,å¯ä»¥å­˜å‚¨é‡å¤å…ƒç´ 

---

**ArrayList**

â€‹      ArrayListæ˜¯Javaä¸­çš„ä¸€ç§åŸºäºæ•°ç»„å®ç°çš„åŠ¨æ€æ•°ç»„ç±»,å®ƒå¯ä»¥åœ¨æ•°ç»„çš„åŸºç¡€ä¸Šå®ç°å¢åŠ ã€åˆ é™¤ã€è®¿é—®ç­‰æ“ä½œã€‚ArrayListä¸­çš„å…ƒç´ å¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„å¯¹è±¡,å®ƒæä¾›äº†ä»¥ä¸‹æ–¹æ³•:

* æ·»åŠ å…ƒç´  

  * `add(element);` ---- ç›´æ¥åœ¨åˆ—è¡¨æœ«å°¾æ·»åŠ å…ƒç´  æ·»åŠ æˆåŠŸåè¿”å›true
  * `add(index,element);` ---- åœ¨é›†åˆä¸­æŒ‡å®šç´¢å¼•ä½ç½®æ·»åŠ å…ƒç´ 

* åˆ é™¤å…ƒç´  

  * `remove(index);` ---- æ ¹æ®ç´¢å¼•åˆ é™¤æŒ‡å®šä½ç½®å…ƒç´ å¹¶è¿”å›è¢«åˆ é™¤çš„å…ƒç´ 

  * `remove(element);` ---- ç›´æ¥åˆ é™¤æŒ‡å®šå…ƒç´  æˆåŠŸåˆ™è¿”å›true

    **æ³¨æ„**:*ç›´æ¥åˆ é™¤æ—¶,è‹¥å­˜åœ¨ç›¸åŒå…ƒç´ ,é»˜è®¤åˆ é™¤ç›¸åŒå…ƒç´ ä¸­ç¬¬ä¸€ä¸ªå‡ºç°çš„å…ƒç´ ã€‚è°ƒç”¨æ–¹æ³•æ—¶,è‹¥æ–¹æ³•å‡ºç°äº†é‡è½½ç°è±¡,ä¼šä¼˜å…ˆè°ƒç”¨å®å‚è·Ÿå½¢å‚ç±»å‹ä¸€è‡´çš„é‚£ä¸ªæ–¹æ³•*

* è·å–å…ƒç´  

  * `get(index)`   ---- è¿”å›æŒ‡å®šç´¢å¼•ä½ç½®çš„å…ƒç´ 

* ä¿®æ”¹å…ƒç´  

  * `set(index,element)`  ---- ä¿®æ”¹æŒ‡å®šç´¢å¼•ä½ç½®çš„å…ƒç´  å¹¶è¿”å›åŸæ¥çš„å…ƒç´ 

* è¿”å›é›†åˆå¤§å° å³å…ƒç´ ä¸ªæ•°

  * `size()` 

* æ¸…ç©ºé›†åˆä¸­æ‰€æœ‰å…ƒç´  

  * `clear()`

```java
package example.collection;

import java.util.ArrayList;

public class ArrayListDemo {
    public static void main(String[] args) {
        ArrayList<Object> arrayList = new ArrayList<>();
        // ç›´æ¥æ·»åŠ å…ƒç´ 
        arrayList.add(20);
        arrayList.add("A");
        arrayList.add("B");
        System.out.println(arrayList);
        //åœ¨æŒ‡å®šä½ç½®æ·»åŠ å…ƒç´ 
        arrayList.add(2,"?");
        System.out.println(arrayList);
        // æ›¿æ¢å…ƒç´   å¦‚æœç´¢å¼•è¶…è¿‡äº†é›†åˆçš„æœ€å¤§ç´¢å¼•,ä¼šæŠ¥é”™ã€‚
        arrayList.set(0,1);
        System.out.println(arrayList);
        // å¾—åˆ°å…ƒç´  get()
        Object o =  arrayList.get(3);
        System.out.println(o);
        // åˆ é™¤å…ƒç´  remove()
        arrayList.remove("A");
        System.out.println(arrayList);
        arrayList.remove(1);  //ä¼˜å…ˆè°ƒç”¨å®å‚è·Ÿå½¢å‚ç±»å‹ä¸€è‡´çš„é‚£ä¸ªæ–¹æ³•
        System.out.println(arrayList);
        // å¾—åˆ°æŸä¸€å…ƒç´ çš„ç´¢å¼•,å¦‚æœæ²¡æœ‰è¯¥å…ƒç´ å°±è¿”å›-1
        int index = arrayList.indexOf("B");
        System.out.println("Bçš„ç´¢å¼•ä¸º" + index);
        // é•¿åº¦ size()
        System.out.println("é›†åˆçš„é•¿åº¦ä¸º" + arrayList.size());
        // æ¸…ç©ºåˆ—è¡¨ clear()
        arrayList.clear();
        System.out.println("é›†åˆçš„é•¿åº¦ä¸º" + arrayList.size());

    }
}
```

**ArrayListæ‰©å®¹æœºåˆ¶**

â€‹     æ‰“å¼€ideaä¸­ArrayListç±»çš„æºç ,ArrayListä¸­æœ‰ä¸¤ä¸ªå±æ€§,size:è¡¨ç¤ºArrayListçš„é•¿åº¦,elementDataæ•°ç»„:ç”¨æ¥å­˜å‚¨æ•°æ®çš„æ•°ç»„ã€‚ åœ¨Arraylistæ‰©å®¹æ—¶ä¼šé¦–å…ˆåˆ¤æ–­å¾—åˆ°æœ€å°æ‰©å®¹é‡,å¦‚æœä½ æ„é€ çš„ArrayListæ˜¯ç”¨æ— å‚æ„é€ ,å³ä½ åˆ›å»ºArrayListæ—¶æ²¡æœ‰ç¡®å®šå®ƒçš„é•¿åº¦,æœ€å°æ‰©å®¹é‡å°±ä¸º10å’Œsize+1å½“ä¸­çš„æœ€å¤§å€¼, ç„¶åå†åˆ¤æ–­æ˜¯å¦éœ€è¦æ‰©å®¹,å¦‚æœæœ€å°æ‰©å®¹é‡å¤§äºelementData.length,å°±éœ€è¦æ‰©å®¹,ç„¶åè°ƒç”¨grow()æ–¹æ³•,å…¶ä¸­æ—§å®¹é‡ä¸ºelementData.length,æ–°å®¹é‡ä¸ºelementData.lengthçš„1.5å€(new=old+old>>1), è‹¥æ–°å®¹é‡å¤§äºsize+1,æœ€å°éœ€è¦å®¹é‡å°±ä¸ºæ–°å®¹é‡,è‹¥æ–°å®¹é‡å°äºsize+1,æœ€å°éœ€è¦å®¹é‡å°±ä¸ºsize+1,ä¹‹åå†å°†åŸæ¥çš„æ•°ç»„ç”¨Arrays.copyOfæ–¹æ³•å¤åˆ¶åˆ°æ–°æ•°ç»„,ä½¿æ–°æ•°ç»„çš„é•¿åº¦ä¸ºæœ€å°éœ€è¦å®¹é‡ã€‚

---

 **LinkedList**

â€‹        LinkedListæ˜¯Javaä¸­çš„ä¸€ä¸ªåŒå‘é“¾è¡¨å®ç°çš„é›†åˆç±»,æä¾›äº†ä¸“é—¨é’ˆå¯¹åˆ—è¡¨é¦–ä½æ“ä½œçš„æ–¹æ³•,å¯ä»¥å½“ä½œæ ˆå’Œé˜Ÿåˆ—æ¥ä½¿ç”¨ã€‚å¸¸ç”¨æ–¹æ³•å¦‚ä¸‹:

* æ·»åŠ å…ƒç´ 
  * `add(element)` ---- åœ¨é“¾è¡¨æœ«å°¾æ·»åŠ ä¸€ä¸ªå…ƒç´ 
  * `addFirst(element)` ---- åœ¨é“¾è¡¨å¤´éƒ¨æ·»åŠ ä¸€ä¸ªå…ƒç´ 
  * `addLast(element)` ---- åœ¨é“¾è¡¨å°¾éƒ¨æ·»åŠ ä¸€ä¸ªå…ƒç´ 
* åˆ é™¤å…ƒç´ 
  * `remove(index)`  ---- åˆ é™¤æŒ‡å®šä½ç½®çš„å…ƒç´ 
  * `removeFirst()` ---- ç§»é™¤å¹¶è¿”å›åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ,å¦‚æœåˆ—è¡¨ä¸ºç©º ä¼šæŠ›å‡º`NoSuchElementException`
  * `removeLast()`  ---- ç§»é™¤å¹¶è¿”å›åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ,å¦‚æœåˆ—è¡¨ä¸ºç©º ä¼šæŠ›å‡º`NoSuchElementException`
* ä¿®æ”¹å…ƒç´ 
  * `set(index,element)` ---- æ›¿æ¢æŒ‡å®šä½ç½®çš„å…ƒç´ 
* è·å–å…ƒç´ 
  * `get(int index)`  ---- è¿”å›æŒ‡å®šä½ç½®çš„å…ƒç´ ã€‚
  * `getFirst()`  ---- è¿”å›åˆ—è¡¨ç¬¬ä¸€ä¸ªå…ƒç´ ,å¦‚æœåˆ—è¡¨ä¸ºç©º ä¼šæŠ›å‡º`NoSuchElementException`
  * `getLast()`  ----  è¿”å›åˆ—è¡¨æœ€åä¸€ä¸ªå…ƒç´ ,å¦‚æœåˆ—è¡¨ä¸ºç©º ä¼šæŠ›å‡º`NoSuchElementException`
* è¿”å›é“¾è¡¨çš„å¤§å°
  * `size( );` 
* æ¸…ç©ºé“¾è¡¨ä¸­æ‰€æœ‰å…ƒç´ 
  * ` clear( );`

```java
package example.collection;

import java.util.LinkedList;

public class LinkedListDemo {
    public static void main(String[] args) {
        //å¢åˆ æ”¹æŸ¥å…ƒç´ ä¸åšè¿‡å¤šè¯´æ˜ ä»…ç®€å•å±•ç¤ºç‰¹æ®Šé¢å¤–ç”¨æ³•
        //1.å½“ä½œé˜Ÿåˆ—ä½¿ç”¨
        LinkedList<String> queue = new LinkedList<>();
        queue.addFirst("ç”²");
        queue.addLast("ä¹™");
        queue.addLast("ä¸™");
        queue.addLast("ä¸");
        System.out.println(queue);   // [ç”², ä¹™, ä¸™, ä¸]
        //è·å–ä½†ä¸ç§»é™¤åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ,å¦‚æœåˆ—è¡¨ä¸ºç©º,åˆ™è¿”å› null
        String firstPerson = queue.peekFirst();
        System.out.println("ç¬¬ä¸€ä¸ªäºº:" + firstPerson);  // ç¬¬ä¸€ä¸ªäºº:ç”²
        //è·å–ä½†ä¸ç§»é™¤åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ,å¦‚æœåˆ—è¡¨ä¸ºç©º,åˆ™è¿”å› null
        String lastPerson = queue.peekLast();
        System.out.println("æœ€åä¸€ä¸ªäºº:" +lastPerson);  // æœ€åä¸€ä¸ªäºº:ä¸
        //è·å–å¹¶ç§»é™¤åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ,å¦‚æœåˆ—è¡¨ä¸ºç©º,åˆ™è¿”å› null
        queue.pollFirst();
        System.out.println(queue);  //[ä¹™, ä¸™, ä¸]
        //è·å–å¹¶ç§»é™¤åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ,å¦‚æœåˆ—è¡¨ä¸ºç©º,åˆ™è¿”å› null
        queue.pollLast();
        System.out.println(queue); //[ä¹™, ä¸™]

        //2.å½“ä½œæ ˆä½¿ç”¨
        LinkedList<String> stack = new LinkedList<>();
        //å°†å…ƒç´ æ¨å…¥æ­¤åˆ—è¡¨æ‰€è¡¨ç¤ºçš„æ ˆä¸­,å³å°†å…ƒç´ æ·»åŠ åˆ°åˆ—è¡¨çš„å¼€å¤´
        stack.push("o");
        stack.push("l");
        stack.push("l");
        stack.push("e");
        stack.push("H");
        System.out.println(stack);  // [H, e, l, l, o]
        //åˆ—è¡¨å¼€å¤´å¼¹å‡ºä¸€ä¸ªå…ƒç´ ,å³ç§»é™¤å¹¶è¿”å›åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ 
        stack.pop();
        stack.pop();
        stack.pop();
        stack.pop();
        System.out.println(stack);  //[o]
    }
}

```

**Vector**

â€‹       Vectoræ˜¯Javaä¸­çš„ä¸€ä¸ªåŸºäºæ•°ç»„å®ç°çš„åŠ¨æ€æ•°ç»„ç±»,å®ƒå¯ä»¥åœ¨æ•°ç»„çš„åŸºç¡€ä¸Šå®ç°å¢åŠ ã€åˆ é™¤ã€è®¿é—®ç­‰æ“ä½œã€‚ Vectorä¸ArrayListå”¯ä¸€çš„åŒºåˆ«å°±æ˜¯Vectoræ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚

##### 3. Set

â€‹    Setç³»åˆ—é›†åˆçš„æ˜¾è‘—ç‰¹ç‚¹:  **æ— åºã€ä¸é‡å¤ã€æ— ç´¢å¼•**  ,åŒ…å«  `HashSet`ã€`LinkedHashSet`ã€`TreeSet` ä¸‰ä¸ªå®ç°ç±»ã€‚

* **`HashSet`**:åº•å±‚æ•°æ®ç»“æ„æ˜¯å“ˆå¸Œè¡¨,çº¿ç¨‹ä¸å®‰å…¨,å…ƒç´ å”¯ä¸€ 
* **`LinkedHashSet`**:åº•å±‚æ•°æ®ç»“æ„æ˜¯é“¾è¡¨å’Œå“ˆå¸Œè¡¨,çº¿ç¨‹ä¸å®‰å…¨,å…ƒç´ å”¯ä¸€
* **`TreeSet`**:åº•å±‚æ•°æ®ç»“æ„æ˜¯çº¢é»‘æ ‘,çº¿ç¨‹å®‰å…¨,å…ƒç´ å”¯ä¸€

**HashSet**

â€‹      HashSetå¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹çš„å¯¹è±¡,åŒ…æ‹¬è‡ªå®šä¹‰ç±»ã€‚æ­¤å¤–,HashSetä¸­çš„å…ƒç´ æ˜¯æ— åºçš„,ä¸ä¿æŒå…ƒç´ çš„æ’å…¥é¡ºåº,å› æ­¤åœ¨éå†HashSetæ—¶,å…ƒç´ çš„é¡ºåºå¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚HashSetçš„å¸¸ç”¨æ–¹æ³•å¦‚ä¸‹:

* æ·»åŠ å…ƒç´ 
  * `add(element)`   ----  åœ¨é›†åˆä¸­æ·»åŠ å…ƒç´  æˆåŠŸè¿”å›true
* ç§»é™¤å…ƒç´ 
  * `remove(Object o)`  ---- åˆ é™¤æŒ‡å®šå…ƒç´  æˆåŠŸè¿”å›true
* æ£€æŸ¥æ˜¯å¦åŒ…å«æŸå…ƒç´ 
  * `contains(Object o)`  ---- å¦‚æœé›†åˆä¸­åŒ…å«æŒ‡å®šçš„å…ƒç´ ,åˆ™è¿”å›true
* æ¸…ç©ºé›†åˆä¸­çš„å…ƒç´ 
  * `clear();` 
* è·å–é›†åˆå¤§å°
  * `size();` 

```java
package example.collection;

import java.util.*;

public class HashSetDemo {
    public static void main(String[] args) {
        HashSet<String> hashSet = new HashSet<>();
        // æ·»åŠ å…ƒç´ 
        hashSet.add("apple");
        hashSet.add("banana");
        hashSet.add("orange");
        System.out.println(hashSet);  //[banana, orange, apple]
        System.out.println(hashSet.add("apple"));  //å·²å­˜åœ¨å…ƒç´ apple --> è¾“å‡º:false
        // åˆ é™¤å…ƒç´ 
        hashSet.remove("banana");
        System.out.println(hashSet);  //[orange, apple]
        // æŸ¥çœ‹æ˜¯å¦åŒ…å«å…ƒç´  contains()
        System.out.println(hashSet.contains("apple")); // è¾“å‡º:true
        System.out.println(hashSet.contains("banana")); // è¾“å‡º:false
        // è·å–é•¿åº¦
        System.out.println(hashSet.size()); // è¾“å‡º:2
        // æ¸…ç©ºé›†åˆå…ƒç´ 
        hashSet.clear();
        System.out.println(hashSet.size()); // è¾“å‡º:0
    }
}
```

----

**List å’Œ Setçš„åŒºåˆ«**

![](/images/lesson04/1730806520362.png)

##### 4. Map

Map æ˜¯ä¸€ä¸ªåŒåˆ—é›†åˆ,ä¹Ÿå³é”®å€¼å¯¹é›†åˆ,ç”¨æ¥å­˜å‚¨é”®ã€å€¼å’Œä¹‹é—´çš„æ˜ å°„ã€‚

**HashMap**

HashMapæ˜¯Javaä¸­çš„ä¸€ä¸ªMapæ¥å£çš„å®ç°ç±»,å®ƒä½¿ç”¨å“ˆå¸Œè¡¨æ¥å­˜å‚¨é”®å€¼å¯¹ã€‚HashMapä¸­çš„é”®å’Œå€¼å¯ä»¥æ˜¯ä»»æ„å¯¹è±¡,è€Œä¸”å®ƒæ”¯æŒè‡ªåŠ¨æ‰©å®¹,ä»¥æé«˜æŸ¥è¯¢æ•ˆç‡ã€‚ HashMapçš„ç‰¹ç‚¹å¦‚ä¸‹:

* é€šè¿‡é”®æ¥è·å–å€¼,å¯ä»¥é€šè¿‡é”®æ¥è®¾ç½®ã€åˆ é™¤å€¼ã€‚
* æ”¯æŒç©ºé”®å’Œç©ºå€¼ã€‚
* æ”¯æŒå¿«é€ŸæŸ¥æ‰¾,æ—¶é—´å¤æ‚åº¦é€šå¸¸ä¸ºO(1)ã€‚
* ä¸ä¿è¯å…ƒç´ çš„é¡ºåºã€‚

å¸¸ç”¨æ–¹æ³•å¦‚ä¸‹:

* æ ¹æ®é”®è·å–å€¼
  * `get(key)`
* å°†é”®å€¼å¯¹å­˜å…¥HashMapä¸­
  * `put(key, value)`
* æ ¹æ®é”®åˆ é™¤å¯¹åº”çš„é”®å€¼å¯¹
  * `remove(key)`
* è¿”å›HashMapä¸­é”®å€¼å¯¹çš„æ•°é‡
  * `size()`
* æ¸…ç©ºHashMapä¸­çš„æ‰€æœ‰é”®å€¼å¯¹
  * `clear()`
* åˆ¤æ–­HashMapæ˜¯å¦ä¸ºç©º
  * `isEmpty()`
* è¿”å›ä¸€ä¸ªSeté›†åˆ,åŒ…å«æ‰€æœ‰çš„é”®
  * `keySet()`
* è¿”å›ä¸€ä¸ªCollectioné›†åˆ,åŒ…å«æ‰€æœ‰çš„å€¼
  * `values()`

```java
package example.map;

import java.util.Collection;
import java.util.Map;
import java.util.HashMap;
import java.util.Set;

public class HashMapDemo {
    public static void main(String[] args) {
        // åˆ›å»ºä¸€ä¸ªHashMapå¯¹è±¡
        Map<String, Integer> map = new HashMap<>();
        // å‘mapä¸­æ·»åŠ é”®å€¼å¯¹
        map.put("è¯­æ–‡", 108);
        map.put("æ•°å­¦",123);
        map.put("è‹±è¯­",136);
        // ä»mapä¸­è·å–é”®ä¸º"æ•°å­¦"çš„å€¼,èµ‹å€¼ç»™mathå˜é‡
        int math = map.get("æ•°å­¦");
        System.out.println("åˆ†æ•°ä¸º:" + math);
        // æ£€æŸ¥mapä¸­æ˜¯å¦å­˜åœ¨é”®ä¸º"äº”å’¯"çš„å…ƒç´ ,å¦‚æœå­˜åœ¨è¿”å›true,å¦åˆ™è¿”å›false
        boolean exists = map.containsKey("ç‰©ç†");
        System.out.println(exists);
        // è·å–mapä¸­æ‰€æœ‰çš„é”®,è¿”å›ä¸€ä¸ªSeté›†åˆ
        Set<String> subject = map.keySet();
        System.out.println("æ‰€æœ‰å­¦ç§‘:" + subject);
        // è·å–mapä¸­æ‰€æœ‰çš„å€¼,è¿”å›ä¸€ä¸ªCollectioné›†åˆ
        Collection<Integer> score = map.values();
        System.out.println("æ‰€æœ‰åˆ†æ•°:" + score);
        // è·å–mapä¸­æ‰€æœ‰çš„é”®å€¼å¯¹,è¿”å›ä¸€ä¸ªCollectioné›†åˆ
        Collection<Map.Entry<String, Integer>> result = map.entrySet();
        System.out.println("æˆç»©:" + result);
        // è·å–mapä¸­ç¬¬ä¸€ä¸ªé”®,è¿”å›ä¸€ä¸ªStringç±»å‹çš„å­—ç¬¦ä¸²
        String key = map.keySet().toArray(new String[1])[0];
        System.out.println(key);
        // ä»mapä¸­ç§»é™¤é”®ä¸º"è¯­æ–‡"çš„å…ƒç´ 
        map.remove("è¯­æ–‡");
        System.out.println(map);
        // è·å–mapä¸­å…ƒç´ çš„ä¸ªæ•°,è¿”å›ä¸€ä¸ªintç±»å‹çš„æ•´æ•°
        int size = map.size();
        System.out.println("å…ƒç´ ä¸ªæ•°:" + size);
        // æ¸…ç©ºmapä¸­çš„æ‰€æœ‰å…ƒç´ 
        map.clear();
        System.out.println(map);
        // æ£€æŸ¥mapæ˜¯å¦ä¸ºç©º,å¦‚æœä¸ºç©ºè¿”å›true,å¦åˆ™è¿”å›false
        boolean isEmpty = map.isEmpty();
        System.out.println(isEmpty);

    }.
}
```

**HashMapçš„åº•å±‚ç»“æ„**

![](/images/lesson04//1730806525452.png)

1. å“ˆå¸Œè¡¨ HashMapä¸»è¦ä¾èµ–äºå“ˆå¸Œè¡¨(æ•°ç»„)æ¥å­˜å‚¨æ•°æ®ã€‚å“ˆå¸Œè¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ è¢«ç§°ä¸ºâ€œbucketâ€ã€‚æ•°ç»„çš„æ¯ä¸ªä½ç½®(bucket)éƒ½å¯ä»¥å­˜æ”¾ä¸€ä¸ªå…ƒç´ (é”®å€¼å¯¹),æ•°ç»„çš„ç´¢å¼•æ˜¯é€šè¿‡é”®çš„å“ˆå¸Œç ç»è¿‡å“ˆå¸Œå‡½æ•°è®¡ç®—å¾—æ¥çš„ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡é”®å¿«é€Ÿå®šä½åˆ°æ•°ç»„çš„æŸä¸ªä½ç½®,å–å‡ºç›¸åº”çš„å€¼,è¿™å°±æ˜¯HashMapå¿«é€Ÿè·å–æ•°æ®çš„åŸç†ã€‚
2. é“¾è¡¨ åœ¨ç†æƒ³çš„æƒ…å†µä¸‹,å“ˆå¸Œå‡½æ•°å°†æ¯ä¸ªé”®å‡åŒ€åœ°æ•£åˆ—åˆ°å“ˆå¸Œè¡¨çš„å„ä¸ªä½ç½®ã€‚ä½†åœ¨å®é™…ä¸­,æˆ‘ä»¬å¯èƒ½ä¼šé‡åˆ°ä¸¤ä¸ªä¸åŒçš„é”®è®¡ç®—å‡ºç›¸åŒçš„å“ˆå¸Œå€¼,è¿™å°±æ˜¯æ‰€è°“çš„â€œå“ˆå¸Œå†²çªâ€ã€‚â€˜â€™HashMapé€šè¿‡ä½¿ç”¨é“¾è¡¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ å½“å“ˆå¸Œå†²çªå‘ç”Ÿæ—¶,HashMapä¼šåœ¨å†²çªçš„bucketä½ç½®å¢åŠ ä¸€ä¸ªé“¾è¡¨,æ–°çš„å…ƒç´ ä¼šè¢«æ·»åŠ åˆ°é“¾è¡¨çš„æœ«å°¾ã€‚æ¯ä¸ªé“¾è¡¨ä¸­çš„å…ƒç´ éƒ½åŒ…å«äº†ç›¸åŒå“ˆå¸Œå€¼çš„é”®å€¼å¯¹ã€‚æ‰€ä»¥åœ¨æŸ¥æ‰¾å…ƒç´ æ—¶,å¦‚æœé‡åˆ°å“ˆå¸Œå†²çª,HashMapéœ€è¦è¿›è¡Œä¸€æ¬¡çº¿æ€§æŸ¥æ‰¾ã€‚
3. çº¢é»‘æ ‘ ä»Java 8å¼€å§‹,å¦‚æœé“¾è¡¨çš„é•¿åº¦è¶…è¿‡ä¸€å®šçš„é˜ˆå€¼(é»˜è®¤ä¸º8),é‚£ä¹ˆé“¾è¡¨ä¼šè¢«è½¬æ¢ä¸ºçº¢é»‘æ ‘ã€‚çº¢é»‘æ ‘æ˜¯ä¸€ç§è‡ªå¹³è¡¡çš„äºŒå‰æŸ¥æ‰¾æ ‘,é€šè¿‡ä¿æŒæ ‘çš„å¹³è¡¡,å¯ä»¥æé«˜æŸ¥æ‰¾æ•ˆç‡ã€‚
4. æ‰©å®¹ä¸é‡æ–°å“ˆå¸Œ HashMapåœ¨åˆå§‹åŒ–æ—¶,ä¼šæœ‰ä¸€ä¸ªé»˜è®¤çš„åˆå§‹å®¹é‡(16),å¹¶ä¸”æœ‰ä¸€ä¸ªåŠ è½½å› å­(0.75)ã€‚å½“HashMapçš„å¤§å°(ä¹Ÿå°±æ˜¯å·²ç»å­˜å‚¨çš„é”®å€¼å¯¹æ•°é‡)è¶…è¿‡ å®¹é‡*åŠ è½½å› å­ çš„æ—¶å€™,HashMapä¼šè¿›è¡Œæ‰©å®¹,æ–°çš„å®¹é‡æ˜¯åŸæ¥çš„ä¸¤å€,å¹¶ä¸”ä¼šè¿›è¡Œé‡æ–°å“ˆå¸Œ,å°†å·²ç»å­˜åœ¨çš„å…ƒç´ é‡æ–°æ”¾å…¥æ–°çš„bucketä½ç½®ã€‚ æ€»ç»“ HashMapçš„åº•å±‚æ•°æ®ç»“æ„åŒ…æ‹¬:å“ˆå¸Œè¡¨(æ•°ç»„)ã€é“¾è¡¨å’Œçº¢é»‘æ ‘ã€‚é€šè¿‡å“ˆå¸Œè¡¨,æˆ‘ä»¬å¯ä»¥å¿«é€Ÿå®šä½å…ƒç´ çš„ä½ç½®ã€‚é€šè¿‡é“¾è¡¨å’Œçº¢é»‘æ ‘,æˆ‘ä»¬å¯ä»¥è§£å†³å“ˆå¸Œå†²çªçš„é—®é¢˜ã€‚é€šè¿‡æ‰©å®¹å’Œé‡æ–°å“ˆå¸Œ,æˆ‘ä»¬å¯ä»¥ä¿è¯HashMapçš„æ€§èƒ½ã€‚
5. å…³äºHashMapçš„åº•å±‚ç»“æ„å¯ä»¥çœ‹çœ‹è¿™ç¯‡æ–‡ç« :[hashmap](https://juejin.cn/post/7188057359754166331?searchId=20231124205835322C5596C5B424379DE0)



##### 5. é›†åˆçš„éå†

   ä»…å±•ç¤ºäº†æ¯”è¾ƒå¸¸ç”¨çš„ä¸€äº›æ–¹æ³•,å…¶ä½™åƒ**Stream API**ç­‰æ–¹å¼å¯è‡ªè¡ŒæŸ¥é˜…å­¦ä¹ 

* **è¿­ä»£å™¨ (  Iterator ) **

  è¿­ä»£å™¨ (Iterator ) æ˜¯ä¸€ç§**è®¾è®¡æ¨¡å¼**,å®ƒæä¾›äº†ä¸€ç§ç»Ÿä¸€çš„æ–¹æ³•æ¥é¡ºåºè®¿é—®é›†åˆä¸­çš„å…ƒç´ ,è€Œä¸æš´éœ²é›†åˆå†…éƒ¨çš„å®ç°ç»†èŠ‚ã€‚

  Javaæä¾›äº† **`Iterator` æ¥å£** ä½œä¸ºè¿­ä»£å™¨çš„åŸºç¡€æ¥å£,è¯¥æ¥å£å®šä¹‰äº†ä¸€ç³»åˆ—ç”¨äºè®¿é—®é›†åˆå…ƒç´ çš„æ–¹æ³• --> `hasNext()`ã€`next()`ã€`remove()`ç­‰ã€‚ æ‰€æœ‰å®ç°äº† `Collection` æ¥å£ çš„é›†åˆç±»éƒ½æœ‰ä¸€ä¸ª `iterator( )`æ–¹æ³• ç”¨ä»¥è¿”å›ä¸€ä¸ªå®ç°äº† `Iterator`æ¥å£ çš„**å¯¹è±¡**,è¯¥å¯¹è±¡ç§°ä¸ºè¿­ä»£å™¨ã€‚

  > æ³¨:Iteratorä»…ç”¨äºéå†é›†åˆ å¹¶ä¸”æœ¬èº«ä¸å­˜æ”¾å¯¹è±¡

  éƒ¨åˆ†ğŸŒ°:

```java
//1.è¿­ä»£å™¨(iterator)éå†
//è·å–é›†åˆçš„è¿­ä»£å™¨å¯¹è±¡
Iterator<String> iterator1 = personList.iterator();
//åˆ©ç”¨è¿­ä»£å™¨ iterator1 éå†é›†åˆ
while(iterator1.hasNext()){
    String result1 = iterator1.next();
    System.out.println("personListè¿­ä»£å™¨éå†:" + result1);
}
```

  `hasNext()` :æ£€æŸ¥æ˜¯å¦è¿˜æœ‰ä¸‹ä¸€ä¸ªå…ƒç´         `next()`æ–¹æ³•:è·å–ä¸‹ä¸€ä¸ªå…ƒç´ 

  ä¸€äº›**æ³¨æ„äº‹é¡¹:**

  * åœ¨è¿­ä»£å™¨çš„ä½¿ç”¨è¿‡ç¨‹ä¸­,åº”é¿å…åœ¨æ¯æ¬¡è¿­ä»£æ—¶éƒ½åˆ›å»ºæ–°çš„è¿­ä»£å™¨å¯¹è±¡ã€‚å¦‚æœéœ€è¦å¤šæ¬¡éå†é›†åˆ,å¯ä»¥åœ¨ç¬¬ä¸€æ¬¡éå†æ—¶åˆ›å»ºè¿­ä»£å™¨,å¹¶åœ¨åç»­çš„éå†ä¸­é‡å¤ä½¿ç”¨è¯¥è¿­ä»£å™¨

  * åœ¨è¿­ä»£å™¨éå†è¿‡ç¨‹ä¸­ è‹¥ç”¨é›†åˆçš„æ–¹æ³• ( `add()` ã€`remove()` ) å¯¹é›†åˆè¿›è¡Œå¢åˆ æ“ä½œä¼šå‡ºç°*`ConcurrentModificationException`* --- å¹¶å‘ä¿®æ”¹å¼‚å¸¸,è‹¥éœ€è¦ä¿®æ”¹é›†åˆ,åº”ç”¨è¿­ä»£å™¨æä¾›çš„`remove()`æ–¹æ³•

```java
//è‹¥éœ€è¦ä¿®æ”¹é›†åˆ,åº”ç”¨è¿­ä»£å™¨æä¾›çš„`remove()`æ–¹æ³•
Iterator<String> it = personList.iterator();
while(it.hasNext()) {
    String r = it.next();
    if (r.equals("ä¸™")) {
        it.remove();
    }
}
System.out.println("personListä½¿ç”¨ä»£å™¨æä¾›çš„`remove()`æ–¹æ³•å:" + personList);
```

    

* **æ™®é€šforå¾ªç¯**

  ç”±äºè¿™ç§æ–¹æ³•åŸºäºå…ƒç´ ç´¢å¼•è¿›è¡Œæ“ä½œ,æ‰€ä»¥é€‚ç”¨äºå®ç°äº†`List`æ¥å£çš„é›†åˆç±»

  éƒ¨åˆ†ğŸŒ°:

```java
//2.æ™®é€šforå¾ªç¯éå†
for (int i = 0; i < personList.size(); i++) {
    String result2 = personList.get(i);
    System.out.println("personListæ™®é€šforå¾ªç¯éå†:" + result2);
}
```

* **å¢å¼ºforå¾ªç¯**

  å¢å¼ºforå¾ªç¯åº•å±‚å®ç°å°±æ˜¯è¿­ä»£å™¨ å¯ä»¥çœ‹ä½œç®€åŒ–ç‰ˆçš„è¿­ä»£å™¨,æ­¤æ—¶ä¸éœ€è¦æ‰‹åŠ¨è·å–è¿­ä»£å™¨å¯¹è±¡,ç”±ç¼–è¯‘å™¨å†…éƒ¨è‡ªåŠ¨ç”Ÿæˆ,ä»¥æ­¤æ¥ç®€åŒ–è¿­ä»£å™¨çš„ä½¿ç”¨ã€‚ åªèƒ½ç”¨äºæ‰€æœ‰å®ç°äº† `Collection` æ¥å£ çš„é›†åˆç±»å’Œæ•°ç»„

  åŸºæœ¬æ ¼å¼:

```java
//å¢å¼ºforå¾ªç¯æ ¼å¼
for(å…ƒç´ æ•°æ®ç±»å‹ å˜é‡å : æ•°ç»„oré›†åˆ) {
    System.out.println(å˜é‡å) //æ“ä½œå…ƒç´ 
}
```

  > æ³¨:å…¶ä¸­ å˜é‡åä»£è¡¨çš„å˜é‡ä½œä¸ºä¸€ä¸ªç¬¬ä¸‰æ–¹ä¸´æ—¶å˜é‡ åœ¨å¾ªç¯ä¸­è¡¨ç¤ºé›†åˆçš„æ¯ä¸€ä¸ªæ•°æ® å¯¹è¯¥å˜é‡è¿›è¡Œä¿®æ”¹ä¸ä¼šæ”¹å˜é›†åˆä¸­åŸæœ¬çš„æ•°æ®

  éƒ¨åˆ†ğŸŒ°:

```java
//3.å¢å¼ºforå¾ªç¯éå†
for (String result3 : personList) {
    System.out.println("personListå¢å¼ºforå¾ªç¯éå†:" + result3);
}
```

* **forEach+Lambdaè¡¨è¾¾å¼**

  åœ¨Java8ä¸­,`Iterable` æ¥å£å¼•å…¥äº† `forEach()` æ–¹æ³•

  åŸºæœ¬æ ¼å¼:

```java
void forEach(Consumer<? super T> action)
```

  * T æŒ‡é›†åˆä¸­å…ƒç´ çš„ç±»å‹
  * `Consumer` --ä¸€ä¸ªå‡½æ•°å¼æ¥å£,å®ƒä½œä¸ºå‚æ•°,æ¥å—å•ä¸ªè¾“å…¥å‚æ•°ä¸”ä¸è¿”å›ä»»ä½•ç»“æœ
  * actionå‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªLambdaè¡¨è¾¾å¼æˆ–æ–¹æ³•å¼•ç”¨,å®šä¹‰äº†å¦‚ä½•å¤„ç†é›†åˆä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ 

  éƒ¨åˆ†ğŸŒ°:

```java
//4.forEach+Lambdaè¡¨è¾¾å¼éå†
personList.forEach(result4 -> {
    System.out.println("personList forEach+Lambdaéå†:" + result4);
});
```
